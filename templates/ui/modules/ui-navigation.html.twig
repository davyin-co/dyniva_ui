{#
/**
 * - extends base theme components body
 * - custom sub theme header, also can add new components
 */
#}

{# override base theme header,logo,menu links #}
{% block header %}
  {% include '@dyniva_ui/ui/pages/header.html.twig' %}
{% endblock %}

<div id="wall" class="page-title promo">
  <div class="inner">
    <h1 class="page-title">导航</h1>
    <h5 class="title">导航包括一些常用的主菜单，边栏菜单，切换菜单和面包屑。</h5>
  </div>
</div>

<div class="panel panel-ui">
  {% for section in [
    {
      id: 'menu',
      title: '菜单',
      items: [
        {
          id: 'dy-menu-1-0',
          title: '主菜单 1.0',
          rule: '该菜单带有下拉二级菜单，使用Drupal默认菜单结构，一级菜单宽度一致。',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-menu-1-0.html.twig',
              gridClass: 'col-xs-12',
            }
          ],
          descs: [
            {
              code: '.main-menu-v1',
              text: '组件版本 v1'
            },
            {
              code: '.js-main-menu',
              text: '下拉菜单需要这个类来初始化'
            },
          ]
        },
      ]
    },
    {
      id: 'sidebar',
      title: '边栏菜单',
      items: [
        {
          id: 'dy-sidebar-1-0',
          title: '边栏菜单 1.0',
          rule: '菜单的层级结构和主菜单一致，都是由drupal核心menu输出，默认会展开已激活项，当一个菜单展开，其他展开的菜单会收起。需要单独在模板中引入资源库',
          demoClass: 'inner',
          libraries: [
            'dyniva_ui/sidebar',
          ],
          templates: [
            {
              url: '/navigation/dy-sidebar-1-0.html.twig',
              gridClass: 'col-xs-12 col-md-4',
            }
          ],
          descs: [
            {
              code: '.sidebar-menu-v1',
              text: '组件版本 v1'
            },
            {
              code: '.js-sidebar-menu',
              text: '边栏二级菜单的展开收缩根据这个类来初始化'
            },
            {
              code: '.menu-collapse',
              text: '覆写对应的menu模板，添加.menu-collapse类'
            },
          ]
        },
      ]
    },
    {
      id: 'navbar',
      title: '导航栏',
      items: [
        {
          id: 'dy-navbar-1-0',
          title: '导航栏 1.0',
          rule: '消息如果有分类可以添加对应的分类图标和对应的颜色，限制最大高度，超出滚动显示。提供了三种信息类型：图文、列表、图片',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-navbar-1-0.html.twig',
              gridClass: 'col-xs-12',
            }
          ],
          descs: [
            {
              code: '.navbar-static-top',
              text: '顶部toolbar静态菜单栏'
            },
          ]
        },
      ]
    },
    {
      id: 'tab',
      title: '选项卡',
      items: [
        {
          id: 'dy-tab-1-0',
          title: '选项卡 1.0',
          rule: '',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-tab-1-0.html.twig',
              gridClass: 'col-xs-12',
            }
          ],
          descs: [
            {
              code: '.tab-nav-1',
              text: '选项卡 v1'
            },
            {
              code: '.panel-tabs-auto / .tab-pane',
              text: 'js会根据该类初始化页面中所有的选项卡'
            },
            {
              code: '.tab-content',
              text: '选项卡的内容'
            },
          ]
        },
        {
          id: 'dy-tab-2-0',
          title: '选项卡 2.0',
          rule: '',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-tab-2-0.html.twig',
              gridClass: 'col-xs-12',
            }
          ],
          descs: [
            {
              code: '.tab-nav-2',
              text: '选项卡 v2'
            },
            {
              code: '.panel-tabs-auto / .tab-pane',
              text: 'js会根据该类初始化页面中所有的选项卡'
            },
            {
              code: '.tab-content',
              text: '选项卡的内容'
            },
          ]
        },
        {
          id: 'dy-tab-3-0',
          title: '选项卡 3.0',
          rule: '',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-tab-3-0.html.twig',
              gridClass: 'col-xs-12',
            },
            {
              url: '/navigation/dy-tab-3-0.html.twig',
              gridClass: 'col-xs-12',
              param: {
                class: 'tab-nav-3-red'
              }
            },
          ],
          descs: [
            {
              code: '.tab-nav-3',
              text: '选项卡 v3'
            },
            {
              code: '.tab-nav-3-red',
              text: '主题红色'
            },
            {
              code: '.panel-tabs-auto / .tab-pane',
              text: 'js会根据该类初始化页面中所有的选项卡'
            },
            {
              code: '.tab-content',
              text: '选项卡的内容'
            },
          ]
        },
        {
          id: 'dy-tab-4-0',
          title: '选项卡 4.0',
          rule: '',
          demoClass: 'inner',
          libraries: [],
          templates: [
            {
              url: '/navigation/dy-tab-4-0.html.twig',
              gridClass: 'col-xs-12',
            },
          ],
          descs: [
            {
              code: '.tab-nav-4',
              text: '选项卡 v4'
            },
            {
              code: '.panel-tabs-auto / .tab-pane',
              text: 'js会根据该类初始化页面中所有的选项卡'
            },
            {
              code: '.tab-content',
              text: '选项卡的内容'
            },
          ]
        },
      ]
    },
  ] %}
    <section class="dy-components" id="{{ section.id }}">
      <h2 class="section-header inner">{{ section.title }}</h2>
      {% for item in section.items %}
        <div class="section-item title-box" id="{{ item.id }}">
          {% if item.title %}
            <h4 class="title inner">{{ item.title }}</h4>
          {% endif %}
          {% if item.rule %}
            <p class="rules inner">{{ item.rule }}</p>
          {% endif %}

          <div class="dy-components-demo {{ item.demoClass }}">
            <div class="{{ item.rowClass | default('row') }}">
              {% for template in item.templates %}
                <div class="{{ template.gridClass | default('col-xs-12') }}">
                  {{ include('@dyniva_ui/ui/modules' ~ template.url, template.param ? template.param : {}) }}
                </div>
                {% if template.spacer %}
                  <div class="spacer-{{ spacer }}"></div>
                {% endif %}
              {% endfor %}
            </div>
          </div>

          <div class="dy-components-markup inner">
            <a class="btn btn-primary expand-code collapsed" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="collapseCode">
              <i class="icon">&#xe818;</i>开发说明
            </a>
            <div class="collapse">
              {% if item.descs %}
                <div class="code-description">
                  <table class="table table-full">
                    <thead>
                      <tr>
                        <th>Class</th>
                        <th>说明</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for desc in item.descs %}
                      <tr>
                        <td><code>{{ desc.code }}</code></td>
                        <td>{{ desc.text }}</td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              {% endif %}

              <div class="code-preview">
                <pre class="prettyprint lang-html">
                  {%- for library in item.libraries ~%}
                    {{~ "{{ attach_library('"~library~"') }}" ~}}
                  {%- endfor ~%}

                  {%- for template in item.templates ~%}

                    {{~ include('@dyniva_ui/ui/modules' ~ template.url, template.param ? template.param : {}) | escape ~}}
                  {%- endfor ~%}
                </pre>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </section>
  {% endfor %}

  {# sub theme components extend here dont remove section block #}
  {% block dyniva_ui_section %}{% endblock %}
</div>

{# override base theme footer #}
{% block footer %}
  {% include '@dyniva_ui/ui/pages/ui-footer.html.twig' %}
{% endblock %}
